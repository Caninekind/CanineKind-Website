<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Intake Form - CanineKind Dog Training</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background-color: #D1E5F4;
      overflow-x: hidden;
      font-size: 20px;
    }

    /* Header Styles */
    header {
      background-color: #799972;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      position: relative;
      z-index: 1000;
    }

    .header-container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 25px 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .logo {
      height: 160px;
      width: auto;
      filter: drop-shadow(2px 2px 4px rgba(0,0,0,0.1));
      margin-bottom: 20px;
    }

    nav {
      width: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .nav-menu {
      display: flex;
      list-style: none;
      gap: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }

    .nav-menu a {
      color: white;
      text-decoration: none;
      padding: 12px 20px;
      border: 2px solid transparent;
      border-radius: 5px;
      transition: all 0.3s ease;
      font-weight: 600;
      font-size: 18px;
    }

    .nav-menu a:hover {
      background-color: rgba(255, 255, 255, 0.2);
      border-color: white;
    }

    /* Dropdown Menu Styles */
    .nav-menu li {
      position: relative;
    }

    .dropdown {
      position: relative;
    }

    .dropdown > a {
      cursor: pointer;
      color: white !important;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      top: 100%;
      left: 0;
      background-color: #799972;
      min-width: 220px;
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      z-index: 1000;
      border-radius: 5px;
      margin-top: 5px;
    }

    .dropdown-content a {
      color: white;
      padding: 12px 20px;
      text-decoration: none;
      display: block;
      font-size: 16px;
      border: none;
      border-radius: 0;
      text-transform: uppercase;
    }

    .dropdown-content a:first-child {
      border-radius: 5px 5px 0 0;
    }

    .dropdown-content a:last-child {
      border-radius: 0 0 5px 5px;
    }

    .dropdown-content a:hover {
      background-color: rgba(255, 255, 255, 0.15);
    }

    .dropdown:hover .dropdown-content {
      display: block;
    }

    .mobile-only {
      display: none;
    }

    .desktop-only {
      display: list-item;
    }

    /* Mobile Menu Toggle */
    .menu-toggle {
      display: none;
      background: none;
      border: none;
      font-size: 24px;
      cursor: pointer;
      color: white;
    }

    #grad1 {
      background-color: #D1E5F4;
      padding: 40px 0;
    }

    .card {
      z-index: 0;
      border: none;
      position: relative;
      background-color: #799972;
      border-radius: 15px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    }

    .card h2 {
      font-family: Impact, sans-serif;
      color: white;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .card p {
      color: white;
      font-size: 16px;
    }

    #progressbar {
      margin-bottom: 30px;
      overflow: hidden;
      color: #496044;
      padding-left: 0px;
      margin-top: 30px;
      list-style: none;
      counter-reset: step;
    }

    #progressbar li {
      list-style-type: none;
      font-size: 11px;
      width: 25%;
      float: left;
      position: relative;
      font-weight: 400;
    }

    #progressbar li:before {
      width: 40px;
      height: 40px;
      line-height: 40px;
      display: block;
      font-size: 18px;
      color: #ffffff;
      background: #496044;
      border-radius: 50%;
      margin: 0 auto 10px auto;
      content: counter(step);
      counter-increment: step;
    }

    #progressbar li:after {
      content: '';
      width: 100%;
      height: 10px;
      background: #496044;
      position: absolute;
      left: 0;
      top: 15px;
      z-index: -1;
    }

    #progressbar li:last-child:after {
      border-top-right-radius: 10px;
      border-bottom-right-radius: 10px;
      position: absolute;
      left: -50%;
    }

    #progressbar li:nth-child(2):after,
    #progressbar li:nth-child(3):after {
      left: -50%;
    }

    #progressbar li:first-child:after {
      border-top-left-radius: 10px;
      border-bottom-left-radius: 10px;
      position: absolute;
      left: 50%;
    }

    #progressbar li.active:before,
    #progressbar li.active:after {
      background: #D1E5F4;
    }

    .form-card {
      text-align: left;
    }

    .form-card label {
      color: white;
      font-weight: bold;
      margin-top: 8px;
      display: block;
    }

    .form-card input,
    .form-card textarea,
    .form-card select {
      padding: 8px 15px;
      border: none;
      border-radius: 8px;
      margin-bottom: 8px;
      margin-top: 3px;
      width: 100%;
      box-sizing: border-box;
      font-family: Arial, sans-serif;
      color: #2C3E50;
      font-size: 16px;
    }

    .form-card textarea {
      min-height: 100px;
      resize: vertical;
    }

    .form-card input:focus,
    .form-card textarea:focus,
    .form-card select:focus {
      outline: none;
      border: 2px solid #496044;
    }

    .fs-title {
      font-size: 32px;
      color: white;
      margin-bottom: 15px;
      font-weight: bold;
      text-align: center;
      font-family: Impact, sans-serif;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
    }

    .fs-subtitle {
      font-size: 18px;
      color: white;
      margin-bottom: 20px;
      text-align: center;
      font-family: Arial, sans-serif;
    }

    .action-button {
      width: 100px;
      background: #496044;
      font-weight: bold;
      color: white;
      border: 0 none;
      border-radius: 8px;
      cursor: pointer;
      padding: 10px 5px;
      margin: 10px 0px 10px 5px;
      float: right;
    }

    .action-button:hover,
    .action-button:focus {
      background-color: #3a4d36;
    }

    .action-button-previous {
      width: 100px;
      background: #616161;
      font-weight: bold;
      color: white;
      border: 0 none;
      border-radius: 8px;
      cursor: pointer;
      padding: 10px 5px;
      margin: 10px 5px 10px 0px;
      float: left;
    }

    .action-button-previous:hover,
    .action-button-previous:focus {
      background-color: #4a4a4a;
    }

    .submit-button {
      width: 120px;
      background: #496044;
      font-weight: bold;
      color: white;
      border: 0 none;
      border-radius: 8px;
      cursor: pointer;
      padding: 10px 5px;
      margin: 10px 0px 10px 5px;
      float: right;
    }

    .submit-button:hover,
    .submit-button:focus {
      background-color: #3a4d36;
    }

    .checkbox-group {
      color: white;
      margin: 10px 0;
    }

    .checkbox-group label {
      display: flex;
      align-items: center;
      margin: 8px 0;
      font-weight: normal;
      font-size: 16px;
      cursor: pointer;
      padding: 8px;
      border-radius: 6px;
      transition: background-color 0.2s;
    }

    .checkbox-group label:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    .checkbox-group input[type="checkbox"] {
      width: 22px;
      height: 22px;
      margin-right: 12px;
      margin-bottom: 0;
      flex-shrink: 0;
      cursor: pointer;
    }

    .checkbox-group-horizontal {
      color: white;
      margin: 10px 0;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 5px;
    }

    .checkbox-group-horizontal label {
      display: flex;
      align-items: center;
      font-weight: normal;
      font-size: 16px;
      cursor: pointer;
      padding: 8px;
      border-radius: 6px;
      transition: background-color 0.2s;
    }

    .checkbox-group-horizontal label:hover {
      background-color: rgba(255, 255, 255, 0.1);
    }

    .checkbox-group-horizontal input[type="checkbox"] {
      width: 22px;
      height: 22px;
      margin-right: 12px;
      margin-bottom: 0;
      flex-shrink: 0;
      cursor: pointer;
    }

    .sub-checkbox {
      margin-left: 30px;
      font-size: 16px;
      color: #E8F4F8;
    }

    .sub-checkbox input[type="checkbox"] {
      width: 22px;
      height: 22px;
    }

    .radio-option {
      margin: 10px 0;
      padding-left: 5px;
    }

    .radio-option input[type="radio"] {
      width: auto;
      margin-right: 10px;
      cursor: pointer;
    }

    .radio-option span {
      color: white;
      font-weight: normal;
    }

    .fit-image {
      width: 100%;
      object-fit: cover;
    }

    fieldset {
      background: transparent;
      border: 0 none;
      border-radius: 0px;
      padding: 20px 30px;
      box-sizing: border-box;
      width: 100%;
      margin: 0;
      position: relative;
    }

    fieldset:not(:first-of-type) {
      display: none;
    }

    /* Footer Styles */
    footer {
      background-color: #799972;
      color: white;
      margin-top: 80px;
      padding: 50px 20px 30px;
    }

    .footer-container {
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 40px;
      margin-bottom: 30px;
    }

    .footer-section h3 {
      color: white;
      font-size: 1.4em;
      margin-bottom: 15px;
      font-weight: bold;
    }

    .footer-section p,
    .footer-section ul {
      line-height: 1.8;
      color: rgba(255, 255, 255, 0.9);
    }

    .footer-section ul {
      list-style: none;
      padding: 0;
    }

    .footer-section ul li {
      margin-bottom: 10px;
    }

    .footer-section a {
      color: white;
      text-decoration: none;
      transition: opacity 0.3s;
    }

    .footer-section a:hover {
      opacity: 0.8;
      text-decoration: underline;
    }

    .footer-bottom {
      text-align: center;
      padding-top: 30px;
      border-top: 1px solid rgba(255, 255, 255, 0.2);
      color: rgba(255, 255, 255, 0.8);
      font-size: 0.9em;
    }

    /* Newsletter Pop-up and Flag Styles */
    .newsletter-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 2000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .newsletter-overlay.active {
      opacity: 1;
      visibility: visible;
    }

    .newsletter-popup {
      background-color: white;
      border-radius: 15px;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
      max-width: 900px;
      width: 90%;
      padding: 30px;
      position: relative;
      transform: scale(0.9);
      transition: transform 0.3s ease;
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: 30px;
    }

    .newsletter-content {
      flex: 1;
    }

    .newsletter-image-container {
      flex: 0 0 300px;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .newsletter-overlay.active .newsletter-popup {
      transform: scale(1);
    }

    .newsletter-close {
      position: absolute;
      top: 10px;
      right: 10px;
      background-color: #799972;
      border: 2px solid white;
      font-size: 32px;
      color: white;
      cursor: pointer;
      width: 45px;
      height: 45px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.3s;
      font-weight: bold;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    .newsletter-close:hover {
      background-color: #496044;
      transform: scale(1.1);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
    }

    .newsletter-popup h3 {
      color: #799972;
      font-size: 48px;
      margin-bottom: 20px;
      font-family: Impact, sans-serif;
      line-height: 1.1;
    }

    .newsletter-popup p {
      color: #333;
      font-size: 16px;
      line-height: 1.6;
      margin-bottom: 20px;
    }

    .newsletter-form input {
      width: 100%;
      padding: 12px;
      border: 2px solid #799972;
      border-radius: 8px;
      margin-bottom: 12px;
      font-size: 16px;
      box-sizing: border-box;
    }

    .newsletter-form input:focus {
      outline: none;
      border-color: #496044;
    }

    .newsletter-submit {
      width: 100%;
      background-color: #799972;
      color: white;
      border: none;
      border-radius: 8px;
      padding: 14px;
      font-size: 18px;
      font-weight: bold;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .newsletter-submit:hover {
      background-color: #496044;
    }

    .newsletter-success {
      color: #799972;
      font-weight: bold;
      text-align: center;
      margin-top: 15px;
      display: none;
    }

    .newsletter-dog-image {
      width: 100%;
      max-width: 300px;
      height: auto;
      margin: 0;
      display: block;
      border-radius: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    }

    /* Mailing List Banner - Always Visible */
    .mailing-list-banner {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #799972;
      color: white;
      padding: 12px 20px;
      border-radius: 10px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      cursor: pointer;
      font-size: 14px;
      font-weight: bold;
      z-index: 1500;
      transition: all 0.3s;
      max-width: 200px;
      text-align: center;
    }

    .mailing-list-banner:hover {
      background-color: #496044;
      transform: scale(1.05);
    }

    @media (max-width: 768px) {
      body {
        font-size: 16px;
      }

      .header-container {
        padding: 15px;
      }

      .logo {
        height: 120px;
        margin-bottom: 15px;
      }

      .nav-menu {
        display: none;
        width: 100%;
        flex-direction: column;
        gap: 5px;
        margin-top: 15px;
        padding-top: 15px;
        border-top: 1px solid rgba(255, 255, 255, 0.2);
      }

      .nav-menu.active {
        display: flex;
      }

      .nav-menu a {
        width: 100%;
        text-align: center;
        padding: 14px 20px;
        background-color: transparent;
        border: none;
        border-radius: 0;
        font-size: 16px;
      }

      .nav-menu a:hover {
        background-color: rgba(255, 255, 255, 0.1);
        border: none;
        transform: none;
      }

      .nav-menu li {
        width: 100%;
      }

      /* Mobile Menu Items */
      .mobile-only {
        display: list-item;
      }

      .desktop-only {
        display: none;
      }

      .menu-toggle {
        display: block;
        position: absolute;
        top: 20px;
        right: 20px;
      }

      .card {
        margin: 0 10px;
      }

      #progressbar li {
        font-size: 9px;
      }

      #progressbar li:before {
        width: 30px;
        height: 30px;
        line-height: 30px;
      }

      .checkbox-group-horizontal {
        grid-template-columns: 1fr;
      }

      .checkbox-group input[type="checkbox"],
      .checkbox-group-horizontal input[type="checkbox"],
      .sub-checkbox input[type="checkbox"] {
        width: 28px;
        height: 28px;
        margin-right: 15px;
      }

      .checkbox-group label,
      .checkbox-group-horizontal label {
        padding: 12px;
        margin: 10px 0;
        font-size: 17px;
      }

      .sub-checkbox {
        font-size: 17px;
      }

      .newsletter-popup {
        padding: 20px;
        width: 92%;
        max-height: 90vh;
        overflow-y: auto;
        flex-direction: column;
        gap: 15px;
      }

      .newsletter-image-container {
        flex: 0 0 auto;
      }

      .newsletter-popup h3 {
        font-size: 32px;
        margin-bottom: 15px;
        line-height: 1.1;
      }

      .newsletter-popup p {
        font-size: 14px;
        margin-bottom: 15px;
        line-height: 1.5;
      }

      .newsletter-close {
        width: 38px;
        height: 38px;
        font-size: 26px;
        top: 8px;
        right: 8px;
      }

      .newsletter-form input {
        padding: 10px;
        font-size: 15px;
        margin-bottom: 10px;
      }

      .newsletter-submit {
        padding: 12px;
        font-size: 16px;
      }

      .newsletter-dog-image {
        max-width: 200px;
        margin-top: 12px;
      }

      .mailing-list-banner {
        bottom: 10px;
        right: 10px;
        padding: 10px 15px;
        font-size: 12px;
        max-width: 150px;
      }
    }
  </style>
</head>
<body>
  <header>
    <div class="header-container">
      <button class="menu-toggle" onclick="toggleMenu()">â˜°</button>
      <img src="https://i.imgur.com/OXiQWa3.jpeg" alt="CanineKind Logo" class="logo">
      <nav>
        <ul class="nav-menu" id="navMenu">
          <li><a href="https://caninekind.io">HOME</a></li>
          <li class="dropdown desktop-only">
            <a onclick="toggleDropdown(event)">ABOUT US</a>
            <div class="dropdown-content">
              <a href="https://caninekind.io/about">Our Team</a>
              <a href="https://caninekind.io/faqs">FAQs</a>
            </div>
          </li>
          <li class="mobile-only"><a href="https://caninekind.io/about">OUR TEAM</a></li>
          <li class="mobile-only"><a href="https://caninekind.io/faqs">FAQs</a></li>
          <li class="mobile-only"><a href="https://caninekind.io/portal-login">CLIENT PORTAL</a></li>
          <li><a href="https://caninekind.io/videos">VIDEOS</a></li>
          <li><a href="https://caninekind.io/services">SERVICES</a></li>
          <li><a href="https://caninekind.io/intake">NEW CLIENT APPLICATION</a></li>
          <li><a href="https://caninekind.io/shop">SHOP</a></li>
          <li><a href="https://caninekind.io/contact">CONTACT US</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <!-- Newsletter Pop-up -->
  <div class="newsletter-overlay" id="newsletterOverlay">
    <div class="newsletter-popup">
      <button class="newsletter-close" id="closeNewsletter">&times;</button>
      <div class="newsletter-content">
        <h3>Not Quite Ready to Hit Submit?</h3>
        <p>We really get it.<br>Dog training and paperwork take time. If you wish, you can enter your email and/or phone number here to learn about discounts, future events at CanineKind and free training tips. We promise not to bug you, and cute pup pics are always included.</p>
        <form class="newsletter-form" id="newsletterForm">
          <input type="email" id="newsletterEmail" placeholder="Email Address (optional)">
          <input type="tel" id="newsletterPhone" placeholder="Phone Number (optional)">
          <button type="submit" class="newsletter-submit">Sign Me Up!</button>
        </form>
        <div class="newsletter-success" id="newsletterSuccess">Thanks! We'll be in touch soon.</div>
      </div>
      <div class="newsletter-image-container">
        <img src="https://i.imgur.com/s5RZtYb.png" alt="Cute dog" class="newsletter-dog-image">
      </div>
    </div>
  </div>

  <!-- Mailing List Banner - Always Visible -->
  <div class="mailing-list-banner" id="mailingListBanner">
    ðŸ“§ Join Our Mailing List
  </div>

  <div class="container-fluid" id="grad1">
    <div class="row justify-content-center mt-0">
      <div class="col-11 col-sm-9 col-md-7 col-lg-6 text-center p-0 mt-3 mb-2">
        <div class="card px-0 pt-4 pb-0 mt-3 mb-3">
          <h2><strong>INTAKE FORM</strong></h2>
          <div style="max-width: 800px; margin: 10px auto 20px auto; padding: 0 20px;">
            <p style="text-align: justify; line-height: 1.6;">Please fill out this form prior to scheduling your initial consultation! Fill out as much or as little information that is relevant for you and your dog's situation. If you have any questions, or would like to email us your form directly please contact <a href="mailto:caninekindtraining@gmail.com" style="color: #D1E5F4; text-decoration: underline;">caninekindtraining@gmail.com</a>.</p>
          </div>
          <div class="row">
            <div class="col-md-12 mx-0">
              <form id="msform" action="https://api.web3forms.com/submit" method="POST">
                <input type="hidden" name="access_key" value="896d8b26-59f8-4bce-9f49-0969b8360c8e">
                <input type="hidden" name="subject" value="New Dog Training Intake Form Submission">
                <input type="hidden" name="from_name" value="CanineKind Intake Form">
                <input type="checkbox" name="botcheck" style="display: none;">
                <ul id="progressbar">
                  <li class="active" id="step1"><strong>Owner</strong></li>
                  <li id="step2"><strong>Dog</strong></li>
                  <li id="step3"><strong>Misc.</strong></li>
                  <li id="step4"><strong>Complete</strong></li>
                </ul>
                
                <!-- Step 1: Owner Information -->
                <fieldset>
                  <div class="form-card">
                    <h2 class="fs-title" style="margin-top: -10px;">Owner Information</h2>
                    <p class="fs-subtitle">Let's get to know your dog's best friend!</p>
                    <label>1. Owner Name</label>
                    <input type="text" name="owner_full_name" placeholder="Full Name (First Last)"/>
                    <label>2. State, City, Zipcode</label>
                    <input type="text" name="owner_location" placeholder="City State Zipcode (e.g., Stoughton Massachusetts 02072)"/>
                    <label>3. Email</label>
                    <input type="email" name="owner_email" placeholder="Email Address"/>
                    <label>4. Phone Number</label>
                    <input type="tel" name="owner_phone" placeholder="Phone Number"/>
                    <label>5. Who is responsible for the dog and its training?</label>
                    <div class="checkbox-group-horizontal">
                      <label><input type="checkbox" name="responsible_me" value="yes"/> Me</label>
                      <label><input type="checkbox" name="responsible_spouse" value="yes"/> Spouse</label>
                      <label><input type="checkbox" name="responsible_housekeeper" value="yes"/> Housekeeper</label>
                      <label><input type="checkbox" name="responsible_roommates" value="yes"/> Roommates</label>
                      <label><input type="checkbox" name="responsible_children" value="yes"/> Children</label>
                      <label><input type="checkbox" name="responsible_parents" value="yes"/> Parents/In-laws</label>
                      <label><input type="checkbox" name="responsible_other_check" value="yes"/> Other</label>
                    </div>
                    <input type="text" name="responsible_other_text" placeholder="If other, please specify..."/>
                    <label>6. Have you worked with a dog trainer or received professional dog training before?</label>
                    <div class="checkbox-group-horizontal">
                      <label><input type="checkbox" name="previous_trainer_yes" value="yes"/> Yes</label>
                      <label><input type="checkbox" name="previous_trainer_no" value="no"/> No</label>
                    </div>
                    <label>7. What services are you interested in? (Select all that may apply so we can give you more information)</label>
                    <div class="checkbox-group-horizontal">
                      <label><input type="checkbox" name="service_private_lesson" value="yes"/> Private 1-on-1 Lesson</label>
                      <label><input type="checkbox" name="service_online_lesson" value="yes"/> Online 1-on-1 Lesson</label>
                      <label><input type="checkbox" name="service_multi_package" value="yes"/> Private 1-on-1 Multi Session Training Package</label>
                      <label><input type="checkbox" name="service_dog_walking" value="yes"/> Dog Walking Services</label>
                      <label><input type="checkbox" name="service_day_train" value="yes"/> Day Train Services</label>
                      <label><input type="checkbox" name="service_pack_walk" value="yes"/> Pack Walk</label>
                      <label><input type="checkbox" name="service_group_classes" value="yes"/> Group Classes</label>
                    </div>
                    <label>8. Are you interested in learning about how our CanineKind Client Portal can be used to send automatic training notifications and tips directly from CanineKind to your phone?</label>
                    <div class="checkbox-group-horizontal">
                      <label><input type="checkbox" name="client_portal_yes" value="yes"/> Yes!</label>
                      <label><input type="checkbox" name="client_portal_no" value="no"/> No</label>
                      <label><input type="checkbox" name="client_portal_unsure" value="unsure"/> Not Sure</label>
                    </div>
                    <label>9. Where did you hear about us?</label>
                    <input type="text" name="referral_source" placeholder="Social media, friend referral, Google search, etc."/>
                    <label>10. What are your top 3 personal goals in seeking out professional dog training today?</label>
                    <textarea name="training_goals_top3" placeholder="List your top 3 goals..." style="min-height: 80px;"></textarea>
                  </div>
                  <input type="button" name="next" class="next action-button" value="Next â†’"/>
                </fieldset>
                
                <!-- Step 2: Dog Basic Info -->
                <fieldset>
                  <div class="form-card">
                    <h2 class="fs-title" style="margin-top: -10px;">Dog Basic Information</h2>
                    <p class="fs-subtitle">Let's get some basic information on your dog!</p>
                    <label>1. Dog's Name</label>
                    <input type="text" name="dog_name" placeholder="Dog's Name"/>
                    <label>2. Age</label>
                    <input type="text" name="dog_age" placeholder="Age (years/months)"/>
                    <label>3. Breed</label>
                    <input type="text" name="dog_breed" placeholder="Breed or Mix"/>
                    <label>4. Gender</label>
                    <div class="checkbox-group-horizontal">
                      <label><input type="checkbox" name="dog_gender_male" value="male"/> Male</label>
                      <label><input type="checkbox" name="dog_gender_female" value="female"/> Female</label>
                    </div>
                    <label>5. Spayed/Neutered?</label>
                    <div class="checkbox-group-horizontal">
                      <label><input type="checkbox" name="dog_fixed_yes" value="yes"/> Yes</label>
                      <label><input type="checkbox" name="dog_fixed_no" value="no"/> No</label>
                    </div>
                    <label>6. Weight</label>
                    <input type="text" name="dog_weight" placeholder="Weight (lbs)"/>
                    <label>7. Where did you get your dog?</label>
                    <input type="text" name="dog_source" placeholder="Breeder, Rescue, Shelter, etc."/>
                    <label>8. How long have you had your dog?</label>
                    <input type="text" name="dog_duration" placeholder="Time with dog"/>
                    <label>9. What types of issues or skills are you looking for help on with your dog? (Select all that apply)</label>
                    <div class="checkbox-group-horizontal">
                      <label><input type="checkbox" name="issue_dog_reactivity" value="yes"/> Dog Reactivity/Excitement</label>
                      <label><input type="checkbox" name="issue_human_reactivity" value="yes"/> Human Reactivity/Excitement</label>
                      <label><input type="checkbox" name="issue_house_manners" value="yes"/> General House-manners</label>
                      <label><input type="checkbox" name="issue_basic_obedience" value="yes"/> General/Basic Obedience</label>
                      <label><input type="checkbox" name="issue_loose_leash" value="yes"/> Loose Leash Walking</label>
                      <label><input type="checkbox" name="issue_trick_training" value="yes"/> Trick Training</label>
                      <label><input type="checkbox" name="issue_off_leash" value="yes"/> Off Leash Reliability</label>
                      <label><input type="checkbox" name="issue_service_dog" value="yes"/> Public Access/Service Dog Skills</label>
                      <label><input type="checkbox" name="issue_competition" value="yes"/> Competition Training</label>
                    </div>
                    <label>10. Has your dog ever bitten anybody?</label>
                    <div class="checkbox-group-horizontal">
                      <label><input type="checkbox" name="dog_bitten_yes" value="yes"/> Yes</label>
                      <label><input type="checkbox" name="dog_bitten_no" value="no"/> No</label>
                    </div>
                    <label>11. In a couple sentences - describe what an average day for your dog looks like.</label>
                    <textarea name="dog_average_day" placeholder="Describe your dog's typical day"></textarea>
                    <label>12. Do you currently use any of these training tools?</label>
                    <div class="checkbox-group-horizontal">
                      <label><input type="checkbox" name="tool_gentle_leader" value="yes"/> Gentle Leader</label>
                      <label><input type="checkbox" name="tool_prong_collar" value="yes"/> Prong Collar</label>
                      <label><input type="checkbox" name="tool_no_pull_harness" value="yes"/> No Pull Harness</label>
                      <label><input type="checkbox" name="tool_ecollar" value="yes"/> Electronic or Vibrate Collar</label>
                      <label><input type="checkbox" name="tool_slip_lead" value="yes"/> Slip Lead</label>
                      <label><input type="checkbox" name="tool_crate" value="yes"/> Crate/Kennel</label>
                      <label><input type="checkbox" name="tool_other_check" value="yes"/> Other</label>
                    </div>
                    <input type="text" name="tool_other_text" placeholder="If other, please specify..."/>
                  </div>
                  <input type="button" name="previous" class="previous action-button-previous" value="â† Previous"/>
                  <input type="button" name="next" class="next action-button" value="Next â†’"/>
                </fieldset>

                <!-- Step 3: Misc -->
                <fieldset>
                  <div class="form-card">
                    <h2 class="fs-title" style="margin-top: -10px;">Agreement</h2>
                    <p class="fs-subtitle" style="font-size: 18px; line-height: 1.6; margin-bottom: 25px;">On the next page you will be taken to a link to schedule a free phone consultation. Your time & the time of CanineKind are important. By scheduling your free consultation, you agree to be reaching out for our services in good faith.</p>

                    <label>Type your full name as signature:</label>
                    <input type="text" name="signature_name" placeholder="Full Name" required/>

                    <div class="checkbox-group-horizontal" style="margin-top: 20px;">
                      <label style="display: flex; align-items: center; font-size: 16px;">
                        <input type="checkbox" name="agreement_confirmed" value="yes" required style="width: 24px; height: 24px; margin-right: 12px;"/>
                        I agree to the above statement
                      </label>
                    </div>
                  </div>
                  <input type="button" name="previous" class="previous action-button-previous" value="â† Previous"/>
                  <button type="submit" class="submit-button" id="submitBtn">Submit â†’</button>
                </fieldset>

                <!-- Step 4: Thank You / Confirmation -->
                <fieldset>
                  <div class="form-card">
                    <h2 class="fs-title text-center">Thank You!</h2>
                    <br>
                    <div style="color: white; text-align: center;">
                      <div class="row justify-content-center">
                        <div class="col-3">
                          <img src="https://img.icons8.com/color/96/000000/ok--v2.png" class="fit-image">
                        </div>
                      </div>
                      <br>
                      <p style="font-size: 18px; font-weight: bold;">Thank you for submitting the intake form!</p>
                      <p>We look forward to chatting with you about your pup! You can now proceed to the scheduling page.</p>
                      <br>
                      <div class="row justify-content-center" style="margin-bottom: 20px;">
                        <div class="col-6 col-md-4">
                          <img src="https://i.imgur.com/Jm0AsK6.jpeg" style="max-width: 100%; height: auto; border-radius: 8px; border: 4px solid #496044; display: block;">
                        </div>
                      </div>
                      <a href="https://book.squareup.com/appointments/yxzgsmqobnwc1j/location/L2B0T1QEWHCFE/services/7YRFILFQJUQD3SW3PNX63ACA" target="_blank" style="display: inline-block; background: #496044; color: white; padding: 18px 50px; border-radius: 10px; text-decoration: none; font-weight: bold; margin-top: 10px; font-size: 20px; box-shadow: 0 4px 8px rgba(0,0,0,0.3); transition: all 0.3s;" onmouseover="this.style.background='#3a4d36'; this.style.transform='scale(1.05)';" onmouseout="this.style.background='#496044'; this.style.transform='scale(1)';">Schedule Your Consultation</a>
                    </div>
                    <br>
                  </div>
                </fieldset>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer>
    <div class="footer-container">
      <div class="footer-section">
        <h3>Quick Links</h3>
        <ul>
          <li><a href="https://caninekind.io/about">About Us</a></li>
          <li><a href="https://caninekind.io/services">Training Services</a></li>
          <li><a href="https://caninekind.io/intake">Intake Form</a></li>
          <li><a href="https://caninekind.io/testimonials">Testimonials</a></li>
          <li><a href="https://caninekind.io/shop">Shop</a></li>
                    <li><a href="https://caninekind.io/forms">Legal Forms</a></li>
        </ul>
      </div>

      <div class="footer-section">
        <h3>Contact Us</h3>
        <p><a href="mailto:caninekindtraining@gmail.com">caninekindtraining@gmail.com</a></p>
      </div>
    </div>

    <div class="footer-bottom">
      <p>&copy; 2024 CanineKind. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // Mobile Menu Toggle
    function toggleMenu() {
      const navMenu = document.getElementById('navMenu');
      navMenu.classList.toggle('active');
    }

    // Dropdown Toggle for Mobile
    function toggleDropdown(event) {
      // Only toggle on mobile, desktop uses CSS hover
      if (window.innerWidth <= 768) {
        event.preventDefault();
        const dropdown = event.target.closest('.dropdown');
        dropdown.classList.toggle('active');
      }
    }

    // Newsletter Pop-up Logic - Simple exit-intent for new clients only
    (function() {
      const overlay = document.getElementById('newsletterOverlay');
      const closeBtn = document.getElementById('closeNewsletter');
      const banner = document.getElementById('mailingListBanner');
      const form = document.getElementById('newsletterForm');
      const successMsg = document.getElementById('newsletterSuccess');
      let exitIntentTriggered = false;
      let mouseY = 0;
      let enableExitIntent = false;

      // Make banner clickable to open popup
      banner.addEventListener('click', function() {
        overlay.classList.add('active');
      });

      // Enable exit intent detection after 1 second (prevents triggering on page load)
      setTimeout(() => {
        enableExitIntent = true;
      }, 1000);

      // Track mouse position
      document.addEventListener('mousemove', function(e) {
        mouseY = e.clientY;
      });

      // Function to show popup
      function showPopup() {
        // Only show once per session
        if (exitIntentTriggered || !enableExitIntent) {
          return;
        }

        overlay.classList.add('active');
        exitIntentTriggered = true;
      }

      // Exit Intent Detection - Mouse moving toward top of page
      document.addEventListener('mouseout', function(e) {
        // Only trigger if mouse is moving upward out of the page (toward browser controls)
        if (!e.relatedTarget && !e.toElement) {
          // Mouse left the document
          if (mouseY < 100) {
            // Was near the top of the page
            showPopup();
          }
        }
      });

      // Detect mouse leaving the viewport from the top
      document.addEventListener('mouseleave', function(e) {
        if (e.clientY <= 0) {
          showPopup();
        }
      });

      // Intercept navigation link clicks
      document.querySelectorAll('.nav-menu a').forEach(link => {
        link.addEventListener('click', function(e) {
          if (!exitIntentTriggered) {
            e.preventDefault();
            const targetUrl = this.href;

            // Show the popup
            overlay.classList.add('active');
            exitIntentTriggered = true;

            // Store the target URL to redirect after closing
            overlay.dataset.redirectUrl = targetUrl;
          }
        });
      });

      // Close button functionality
      closeBtn.addEventListener('click', function() {
        overlay.classList.remove('active');

        // If there's a redirect URL stored, navigate to it
        if (overlay.dataset.redirectUrl) {
          const url = overlay.dataset.redirectUrl;
          delete overlay.dataset.redirectUrl;
          window.location.href = url;
        }
      });

      // Handle form submission
      form.addEventListener('submit', async function(e) {
        e.preventDefault();

        const email = document.getElementById('newsletterEmail').value.trim();
        const phone = document.getElementById('newsletterPhone').value.trim();

        // Require at least one field
        if (!email && !phone) {
          alert('Please enter at least an email or phone number.');
          return;
        }

        // Create form data for Web3Forms
        const formData = {
          access_key: '896d8b26-59f8-4bce-9f49-0969b8360c8e',
          subject: 'New Mailing List Signup from Intake Form',
          from_name: 'CanineKind Newsletter Signup',
          email: email || 'No email provided',
          phone: phone || 'No phone provided',
          message: `Email: ${email || 'Not provided'}\nPhone: ${phone || 'Not provided'}`
        };

        try {
          const response = await fetch('https://api.web3forms.com/submit', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Accept': 'application/json'
            },
            body: JSON.stringify(formData)
          });

          const result = await response.json();

          if (result.success) {
            // Show success message
            form.style.display = 'none';
            successMsg.style.display = 'block';

            // Auto-close after 3 seconds
            setTimeout(() => {
              overlay.classList.remove('active');

              // If there's a redirect URL stored, navigate to it
              if (overlay.dataset.redirectUrl) {
                const url = overlay.dataset.redirectUrl;
                delete overlay.dataset.redirectUrl;
                window.location.href = url;
              }
            }, 3000);
          } else {
            alert('Failed to submit. Please try again or contact us directly.');
          }
        } catch (error) {
          alert('An error occurred. Please try again or contact us at caninekindtraining@gmail.com');
        }
      });
    })();

    document.addEventListener('DOMContentLoaded', function() {
      const form = document.getElementById('msform');
      const fieldsets = document.querySelectorAll('fieldset');
      const progressbarItems = document.querySelectorAll('#progressbar li');
      let currentStep = 0;

      document.querySelectorAll('.next').forEach(button => {
        button.addEventListener('click', function() {
          if (currentStep < fieldsets.length - 1) {
            fieldsets[currentStep].style.display = 'none';
            currentStep++;
            fieldsets[currentStep].style.display = 'block';
            progressbarItems[currentStep].classList.add('active');
            window.scrollTo(0, 0);
          }
        });
      });

      document.querySelectorAll('.previous').forEach(button => {
        button.addEventListener('click', function() {
          if (currentStep > 0) {
            fieldsets[currentStep].style.display = 'none';
            progressbarItems[currentStep].classList.remove('active');
            currentStep--;
            fieldsets[currentStep].style.display = 'block';
            window.scrollTo(0, 0);
          }
        });
      });

      // Web3Forms submission handling
      form.addEventListener('submit', async function(e) {
        e.preventDefault();
        const formData = new FormData(this);
        const submitButton = document.getElementById('submitBtn');
        const originalText = submitButton.textContent;
        
        try {
          submitButton.textContent = 'Sending...';
          submitButton.disabled = true;
          
          const object = {};
          formData.forEach((value, key) => {
            if (object[key]) {
              if (!Array.isArray(object[key])) {
                object[key] = [object[key]];
              }
              object[key].push(value);
            } else {
              object[key] = value;
            }
          });
          
          const response = await fetch('https://api.web3forms.com/submit', {
            method: 'POST',
            headers: {
              'Content-Type': 'application/json',
              'Accept': 'application/json'
            },
            body: JSON.stringify(object)
          });
          
          const result = await response.json();
          
          if (result.success) {
            // Move to thank you page (step 4)
            fieldsets[currentStep].style.display = 'none';
            currentStep = 3;
            fieldsets[currentStep].style.display = 'block';
            progressbarItems[currentStep].classList.add('active');
            window.scrollTo(0, 0);
          } else {
            alert('Failed to send form. Please try again or contact us directly.');
            submitButton.textContent = originalText;
            submitButton.disabled = false;
          }
        } catch (error) {
          alert('An error occurred. Please try again or contact us directly at caninekindtraining@gmail.com');
          submitButton.textContent = originalText;
          submitButton.disabled = false;
        }
      });
    });
  </script>
</body>
</html>
